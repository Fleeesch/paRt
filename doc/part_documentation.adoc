:toc: macro
:toclevels: 4
:numbered:
:author: Fleeesch
:revnumber: 1.2.4

= paRt User Guide

toc::[]

<<<

== Introduction

paRt is a custom Reaper theme built from the ground up. It includes multiple theme files and a Theme Adjuster script for user customization.

It is designed to be compatible with a wide range of display formats and to show as much data as possible while choosing a restrained style to focus on functionality.

== Installation

=== Installation via ReaPack

Import the repository into your ReaPack instance using the following link in ReaPack's repository manager:

`https://raw.githubusercontent.com/Fleeesch/ReaPack-Fleeesch/master/index.xml`

Search for "paRt" in ReaPack and install it.


=== Manual Installation

1. Download `part_manual_install.zip` from the release section of this repository and extract its contents into your REAPER resource folder. To locate your REAPER resource folder, use the menu command `Options > Show REAPER resource path in explorer/finder...`.

2. Import the **.lua** scripts from `Scripts/Fleeesch/Themes/paRt` into the REAPER Action List. You can open the Action List via `Actions > Show action list...`.

3. Click the `New action` button and choose `Load ReaScript...` to import the LUA files.
4. Navigate to the scripts inside your REAPER resource folder. You can select and import all files at once.
5. Verify that the scripts were successfully loaded by typing "paRt" into the `Filter` box.

[IMPORTANT]
====
You must keep the folder structure intact. Changing it will likely break the scripts and the Theme Adjuster.
====

<<<

== Theme Adjuster

Launch the Theme Adjuster from the Action List by running the `paRt - Theme Adjuster.lua` script, or use the shortcut located at the rightmost position of REAPER’s transport bar. The paRt shortcuts in the transport can be disabled if needed.

There’s a notification panel on the right side of the Theme Adjuster window that shows hints for whatever element your mouse is hovering over. Use it as your first point of reference if you’re unsure about something.

There are a few scenarios where the Theme Adjuster won’t work:

- when no valid paRt theme is active
- when your paRt theme version is lower than the Theme Adjuster’s version

It’s recommended to use the Theme Adjuster’s built-in controls to switch between paRt themes, but it also detects theme changes in real time when you switch themes through Reaper’s internal theme selector.

=== Bank System

paRt provides a bank system if you want your setup to feel more dynamic. It lets you switch between different variations of a handful of parameters that are selectively linked to the banking system, while everything else stays unchanged.

By activating the `[+]` button next to a parameter, you link that parameter to the bank system. You can then store up to eight variations of that parameter by switching between banks using the `[1]–[8]` buttons in the bottom-left section of the Theme Adjuster window.

Activating or deactivating banking won’t delete or overwrite anything. Parameters not linked to the bank system use a hidden global default bank.

[discrete]
==== Copying Banks

You can copy parameter settings from the currently active bank to the other banks. Hover your cursor over the `[Copy]` button to see a short guide in the info panel on the right side of the Theme Adjuster.

This feature is especially useful for cleaning up your configuration, as it can save you a lot of time when setting many parameters manually.

=== Configurations

You can save and load complete configurations using the eight slots in the bottom-right corner of the Theme Adjuster.

Select a slot by pressing one of the `[1]–[8]` buttons, then click either `[Save]` or `[Load]`. If a slot hasn’t been written to before, it will default to the configuration provided by paRt.

Configurations are stored as `*.partmap` files, but are essentially just LUA tables with a different extension. This is simply a safety precaution to prevent accidentally overwriting Theme Adjuster LUA files.

[discrete]
==== Reset

All parameters have hard-coded defaults. If you want to start from a clean slate, you can reset all parameters using this function. As a safety measure, you need to press the button twice within a short period.

<<<

== Technical Notes

=== Theme Files

There are three theme files available, each with a different color scheme covering multiple brightness levels. This is mostly for technical reasons: using a single theme file to cover all brightness levels is difficult and would likely lead to sub-optimal results.

[discrete]
==== User Setting Management

Reaper allows users to create an unlimited number of user-adjustable parameters for custom themes.

- Each parameter stores an integer value with a default and a defined range.
- Parameter values are stored separately for each theme file.

The paRt Theme Adjuster handles synchronization of these parameters across multiple theme files by keeping settings in a central configuration file. As soon as the Theme Adjuster is activated, it immediately checks whether the settings of the current paRt theme file need to be synchronized.

=== Reaper Screensets/Layouts

Reaper provides an option to manage different layouts via the `Screensets/Layouts` menu, allowing elements to be configured individually for different tracks.

This feature was originally intended for creating alternative layouts for theme sections, but since REAPER v6, it has mostly been repurposed as a workaround for applying different zoom factors to theme elements. For this reason, it’s highly recommended to leave this section untouched when tinkering with the theme.


<<<

== Modding

Since paRt is essentially a collection of Reaper themes with a Theme Adjuster LUA script handling the configuration, it can be modified without restrictions.

All the layouting is happening in the `rtconfig.txt` files. Be aware that the theme is quite complex and can be easy to break.

=== Quick Guide

1. Open the ColorThemes folder in your Reaper installation.
2. Extract the paRt _ReaperThemeZip_ files into the ColorThemes folder.
3. Modify the extracted theme files as desired.

=== Detailed Guide

1. Locate the theme files in the _ColorThemes_ folder of your REAPER installation. If you’re not sure where your _ColorThemes_ folder is, use the menu action `Options > Show REAPER resource path in explorer/finder`. This will open the folder for you.

2. paRt provides its themes as _ReaperThemeZip_ files, one per theme. A _ReaperThemeZip_ is essentially a zip file under a different name, so you can treat it like any standard zip archive. Each paRt _ReaperThemeZip_ contains a _ReaperTheme_ file (named something like `part_dark_unpacked.ReaperTheme`) and a folder with its data. Extract the contents of the theme you want to modify into the ColorThemes folder.

3. The extracted theme can be loaded like any other theme. You can now replace or delete images, tweak colors using REAPER’s integrated theme tweaker, and modify the WALTER layout in the _rtconfig.txt_ file (located in the extracted theme folder).

[discrete]
==== Important

- Renaming or deleting the original files is optional, but recommended.  
- Your modified files will not receive updates.

=== Technical Details

==== Theme File Naming

When selecting a theme, the paRt Theme Adjuster dynamically searches for matching theme files rather than relying on a strict naming pattern. It is highly recommended to rename any modified ReaperTheme file to distinguish it from the original and prevent accidental overwrites during updates.

The basic ingredients for a proper paRt theme name are _"part"_ and the name of a color palette (_"dark"_ / _"dimmed"_ / _"light"_). For example:

- part-dark.ReaperTheme
- Part Light.ReaperTheme
- part_dimmed.ReaperTheme

This naming is case-insensitive. You can also use alternative separators instead of just spaces. Additionally, you can add _"mod"_ or _"unpacked"_ to influence the priority of your modified theme file. You can also include _"skip"_ in the filename to force the Theme Adjuster to ignore it.

The Theme Adjuster uses the following prioritization:

1. ReaperTheme file containing the word _"mod"_ or _"modded"_  
2. ReaperTheme file containing the word _"unpacked"_  
3. ReaperTheme file  
4. ReaperThemeZip file  

Renaming your modified file to something like _"part_dark_mod.ReaperTheme"_ will make it a high-priority theme, causing the Theme Adjuster to ignore all other theme files in the same folder.

The Theme Adjuster also displays a small info text in the bottom-right corner, indicating when you are using an unpacked or modded theme.

==== Theme Adjuster and Script Files

All scripts, including the Theme Adjuster, are stored in your REAPER resource path under `Scripts/Fleeesch/Themes/paRt/`.

Be aware that any edits to the Theme Adjuster will be overwritten by automated updates.

==== Configuration Files

Configuration slot files are stored in your Reaper resource folder under `Scripts/Fleeesch/Themes/paRt/conf/slot`. You can back up existing configurations using these files, or, if you prefer, edit the entire Theme Adjuster configuration manually in your favorite code editor. Note that this is not a nested LUA table, so manual editing may feel unintuitive, as it was not intended for regular use.

Fallback configuration files are stored in `conf/default` and should be left untouched, as any automated update will overwrite them.

==== Custom Parameters

There is an extra tab in the Theme Adjuster displaying a set of placeholder parameters. These are reserved for modding and are free for you to use. Their WALTER addresses are shown in the static hint area when your cursor hovers over the slider and button elements.

This allows you to add additional adjustments to your modified paRt theme while keeping the original code untouched, helping to keep things organized and less messy.

You can also assign custom names to these parameters by editing the `conf/user/custom_parameters.lua` file.

==== Versioning

- The version of a theme file is stored in its `rtconfig.txt` file using the naming scheme of a reserved parameter.
- The version of the Theme Adjuster is set manually in the `paRt - Theme Adjuster.lua` file

Be aware that changing version numbers without actually implementing the updates from those versions will likely cause the Theme Adjuster to fail in unpredictable ways.

==== Best Practice

- keep notes on what you changed and where it belongs
- always keep backups of your modified content in case you need to reapply the changes
- avoid touching the original theme parameters if possible; the Theme Adjuster is very sensitive to those changes
- remember that anything installed by default through ReaPack will be overwritten by the next update

==== Notes

- The theme won’t refresh automatically; you need to select another theme and then reselect the one you’re working on. This can be automated by creating a _Custom Action_ in REAPER that switches to the next theme and then back to the previous theme in one step.  

- Most assets are provided for multiple zoom levels, found in their respective subfolders (e.g., 125 = 1.25 zoom factor). There are many exceptions where assets aren’t dpi-specific and are only available once, such as item backgrounds (item_bg.png, item_bg_sel.png).
